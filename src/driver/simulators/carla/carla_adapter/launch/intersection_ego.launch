<launch>
    <!-- Carla setup & conversion -->
    <arg name="carla_settings_file" default="$(find zzz_driver_simulators_carla_adapter)/launch/server.launch.yaml"/>
    <arg name="vehicle_sensors_file" default="$(find zzz_driver_simulators_carla_adapter)/config/vehicle_sensors.example.json"/>
    <arg name="static_sensors_file" default="$(find zzz_driver_simulators_carla_adapter)/config/static_sensors.example.json"/>
    <arg name="ego_actor" default='ego_vehicle'/>
    <arg name="ego_spawn" default="True"/> <!-- By default we use script to spawn vehicles -->
    <arg name="ego_spawn_point" default="-10,-94,0,0,0,180"/> <!-- use comma separated format "x,y,z,roll,pitch,yaw" -->


    <rosparam file="$(arg carla_settings_file)" command="load" />

    <group if="$(eval ego_spawn)">
        <node pkg="carla_ego_vehicle" type="carla_ego_vehicle.py" name="carla_ego_vehicle_$(arg ego_actor)" output="screen" respawn="true">
        <param name="sensor_definition_file" value="$(arg vehicle_sensors_file)" />
        <param name="vehicle_filter" value="vehicle.lincoln.mkz2017" />
        <param name="spawn_point" value="$(arg ego_spawn_point)" />
        <param name="role_name" value="$(arg ego_actor)" />
        </node>
    </group>

</launch>
